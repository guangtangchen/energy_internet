(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{468:function(t,e,i){var s=i(877);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i(93).default)("2bdd638d",s,!0,{sourceMap:!1})},876:function(t,e,i){"use strict";var s=i(468);i.n(s).a},877:function(t,e,i){(e=i(92)(!1)).push([t.i,".hotlist .h-title[data-v-6fef02e8]{height:24px;margin-bottom:34px}.hotlist .h-title .name[data-v-6fef02e8]{float:left;color:#212121;font-size:18px}.hotlist .h-title .el-icon-delete[data-v-6fef02e8]{float:right;margin-top:7px;color:#666;font-size:14px;cursor:pointer}.hotlist .h-title .el-icon-delete[data-v-6fef02e8]:hover{color:#d23939}.hotlist ul[data-v-6fef02e8]{width:860px;height:95px;overflow:hidden}.hotlist ul li[data-v-6fef02e8]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;list-style:none;margin-bottom:20px}.hotlist .li-history[data-v-6fef02e8]{max-width:30%;height:34px;line-height:34px;background:hsla(0,0%,39.6%,.1);border-radius:2px;padding:0 11px;margin-right:28px;position:relative}.hotlist .li-history a[data-v-6fef02e8]{padding-right:24px}.hotlist .li-history i[data-v-6fef02e8]{display:inline-block;width:14px;height:14px;cursor:pointer;position:absolute;top:10px;right:10px}.hotlist .li-history i[data-v-6fef02e8]:hover{color:#d23939}.hotlist .li-recomend[data-v-6fef02e8]{max-width:30%;margin-right:40px}",""]),t.exports=e},883:function(t,e,i){"use strict";i.r(e);var s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-container"},[e("img",{attrs:{src:i(394)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-title"},[e("span",{staticClass:"name"},[this._v("推荐搜索")])])}],o=(i(94),i(29),i(53),i(138),i(22),i(21),i(7),i(40),i(395),i(364)),r=(i(95),i(41)),a=i(375),n=i(417),c=i(557),l=i(54);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}var p={components:{user:a.a,search:n.a,copyright:c.a},data:function(){return{isNotNone:!0,historyLists:[],lists:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(l.b)(["searchType"])),mounted:function(){this.getHistory(),this.fetchData(),this.fetchRecomend()},methods:{fetchData:function(){var t=this;this.$store.dispatch("apiRecommend").then((function(e){t.lists=e.data}))},getHistory:function(){var t=localStorage.getItem("search")||"";this.isNotNone=!!t;var e=t.split(",");this.historyLists=e.reverse()},clearHistory:function(){this.historyLists=[],this.isNotNone=!1,localStorage.removeItem("search")},fetchRecomend:function(){var t=this;this.$store.dispatch("apiHotword").then((function(e){t.lists=e.data}))},setHistory:function(t){var e=localStorage.getItem("search")||"",i=e.split(",");i.push(t||""),e=Object(o.a)(new Set(i)).join(","),localStorage.setItem("search",e)},delHistoryItem:function(t){var e=localStorage.getItem("search")||"";e=e.replace(new RegExp(t+",","ig"),""),localStorage.setItem("search",e),this.getHistory()},getSearch:function(t){this.setHistory(t),this.$store.commit("setSearchWord",t),this.$router.push({path:"/s",query:{keyword:t,st:this.searchType,_:+new Date}})}}},f=(i(876),i(39)),d=Object(f.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"padding-top":"58px"}},[t._m(0),t._v(" "),i("div",{staticStyle:{width:"830px",margin:"0 auto 83px"}},[i("search")],1),t._v(" "),t.isNotNone?i("div",{staticClass:"hotlist",staticStyle:{"margin-bottom":"32px"}},[i("div",{staticClass:"h-title"},[i("span",{staticClass:"name"},[t._v("历史搜索")]),t._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:t.clearHistory}},[t._v("清除历史")])]),t._v(" "),i("ul",{staticClass:"clear"},t._l(t.historyLists.slice(0,20),(function(e){return e?i("li",{staticClass:"li-history"},[i("a",{on:{click:function(i){return t.getSearch(e)}}},[t._v(t._s(e))]),t._v(" "),i("i",{staticClass:"el-icon-close",on:{click:function(i){return t.delHistoryItem(e)}}})]):t._e()})),0)]):t._e(),t._v(" "),i("div",{staticClass:"hotlist"},[t._m(1),t._v(" "),i("ul",{attrs:{clear:"clear"}},t._l(t.lists,(function(e){return i("li",{staticClass:"li-recomend",on:{click:function(i){return t.getSearch(e.searchKey)}}},[i("a",[t._v(t._s(e.searchKey))])])})),0)]),t._v(" "),i("copyright")],1)}),s,!1,null,"6fef02e8",null);e.default=d.exports}}]);